import{j as s}from"./jsx-runtime.D_zvdyIk.js";import{R as d,r as g}from"./index.BmW6Ki2V.js";const x=e=>{let t;const n=new Set,r=(o,a)=>{const l=typeof o=="function"?o(t):o;if(!Object.is(l,t)){const h=t;t=a??(typeof l!="object"||l===null)?l:Object.assign({},t,l),n.forEach(p=>p(t,h))}},c=()=>t,u={setState:r,getState:c,getInitialState:()=>b,subscribe:o=>(n.add(o),()=>n.delete(o))},b=t=e(r,c,u);return u},y=(e=>e?x(e):x),S=e=>e;function j(e,t=S){const n=d.useSyncExternalStore(e.subscribe,d.useCallback(()=>t(e.getState()),[e,t]),d.useCallback(()=>t(e.getInitialState()),[e,t]));return d.useDebugValue(n),n}const f=e=>{const t=y(e),n=r=>j(t,r);return Object.assign(n,t),n},w=(e=>e?f(e):f),v=w(e=>({user:null,isLoggedIn:!1,login:t=>e({user:t,isLoggedIn:!0}),logout:()=>e({user:null,isLoggedIn:!1}),setUser:t=>e({user:t,isLoggedIn:t!==null})}));function E({role:e}){const[t,n]=g.useState(""),[r,c]=g.useState(""),[m,i]=g.useState(""),{login:u}=v(),b=async o=>{if(o.preventDefault(),i(""),!t||!r){i("Please fill in all fields");return}try{const a={id:"1",email:t,name:t.split("@")[0],role:e};u(a),window.location.href=e==="customer"?"/customer/dashboard":"/employee/dashboard"}catch{i("Login failed. Please try again.")}};return s.jsxs("form",{onSubmit:b,className:"bg-white p-8 rounded-lg shadow-lg w-96",children:[s.jsxs("h1",{className:"text-2xl font-bold mb-6 text-gray-800",children:[e==="customer"?"Customer":"Employee"," Login"]}),m&&s.jsx("div",{className:"bg-red-100 text-red-700 p-3 rounded mb-4",children:m}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-gray-700 font-bold mb-2",children:"Email"}),s.jsx("input",{type:"email",value:t,onChange:o=>n(o.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:border-blue-500",placeholder:"you@example.com"})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"block text-gray-700 font-bold mb-2",children:"Password"}),s.jsx("input",{type:"password",value:r,onChange:o=>c(o.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:border-blue-500",placeholder:"••••••••"})]}),s.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white font-bold py-2 rounded hover:bg-blue-700 transition",children:"Sign In"}),s.jsx("p",{className:"text-center text-gray-600 mt-4 text-sm",children:e==="customer"?s.jsxs(s.Fragment,{children:["Don't have an account?"," ",s.jsx("a",{href:"/customer/register",className:"text-blue-600 hover:underline",children:"Register here"})]}):"Contact your administrator for access"})]})}export{E as LoginForm};
