import{R as x,r as g}from"./index.BmW6Ki2V.js";var f={exports:{}},m={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h;function R(){if(h)return m;h=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function s(l,r,a){var u=null;if(a!==void 0&&(u=""+a),r.key!==void 0&&(u=""+r.key),"key"in r){a={};for(var i in r)i!=="key"&&(a[i]=r[i])}else a=r;return r=a.ref,{$$typeof:e,type:l,key:u,ref:r!==void 0?r:null,props:a}}return m.Fragment=t,m.jsx=s,m.jsxs=s,m}var p;function E(){return p||(p=1,f.exports=R()),f.exports}var n=E();const v=e=>{let t;const s=new Set,l=(o,c)=>{const d=typeof o=="function"?o(t):o;if(!Object.is(d,t)){const j=t;t=c??(typeof d!="object"||d===null)?d:Object.assign({},t,d),s.forEach(y=>y(t,j))}},r=()=>t,i={setState:l,getState:r,getInitialState:()=>b,subscribe:o=>(s.add(o),()=>s.delete(o))},b=t=e(l,r,i);return i},w=(e=>e?v(e):v),N=e=>e;function k(e,t=N){const s=x.useSyncExternalStore(e.subscribe,x.useCallback(()=>t(e.getState()),[e,t]),x.useCallback(()=>t(e.getInitialState()),[e,t]));return x.useDebugValue(s),s}const S=e=>{const t=w(e),s=l=>k(t,l);return Object.assign(s,t),s},I=(e=>e?S(e):S),C=I(e=>({user:null,isLoggedIn:!1,login:t=>e({user:t,isLoggedIn:!0}),logout:()=>e({user:null,isLoggedIn:!1}),setUser:t=>e({user:t,isLoggedIn:t!==null})}));function P({role:e}){const[t,s]=g.useState(""),[l,r]=g.useState(""),[a,u]=g.useState(""),{login:i}=C(),b=async o=>{if(o.preventDefault(),u(""),!t||!l){u("Please fill in all fields");return}try{const c={id:"1",email:t,name:t.split("@")[0],role:e};i(c),window.location.href=e==="customer"?"/customer/dashboard":"/employee/dashboard"}catch{u("Login failed. Please try again.")}};return n.jsxs("form",{onSubmit:b,className:"bg-white p-8 rounded-lg shadow-lg w-96",children:[n.jsxs("h1",{className:"text-2xl font-bold mb-6 text-gray-800",children:[e==="customer"?"Customer":"Employee"," Login"]}),a&&n.jsx("div",{className:"bg-red-100 text-red-700 p-3 rounded mb-4",children:a}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-gray-700 font-bold mb-2",children:"Email"}),n.jsx("input",{type:"email",value:t,onChange:o=>s(o.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:border-blue-500",placeholder:"you@example.com"})]}),n.jsxs("div",{className:"mb-6",children:[n.jsx("label",{className:"block text-gray-700 font-bold mb-2",children:"Password"}),n.jsx("input",{type:"password",value:l,onChange:o=>r(o.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:border-blue-500",placeholder:"••••••••"})]}),n.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white font-bold py-2 rounded hover:bg-blue-700 transition",children:"Sign In"}),n.jsx("p",{className:"text-center text-gray-600 mt-4 text-sm",children:e==="customer"?n.jsxs(n.Fragment,{children:["Don't have an account?"," ",n.jsx("a",{href:"/customer/register",className:"text-blue-600 hover:underline",children:"Register here"})]}):"Contact your administrator for access"})]})}export{P as LoginForm};
