import{j as e}from"./jsx-runtime.D_zvdyIk.js";import{r as x}from"./index.BmW6Ki2V.js";function b({isOpen:c,onClose:o,service:l=""}){const[t,s]=x.useState({type:"idle"});async function m(n){n.preventDefault();const i=n.currentTarget,r=new FormData(i),u={name:String(r.get("name")||""),email:String(r.get("email")||""),phone:String(r.get("phone")||""),message:`Quote request for: ${l||"General Service"}

${String(r.get("message")||"")}`,service:l,website:""};s({type:"loading"});try{const a=await fetch("/api/contact",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(u)}),d=await a.json();if(!a.ok||!d.ok){s({type:"error",message:d.error||"Submission failed."});return}s({type:"success",message:"Thanks! We'll reach out shortly with your quote."}),i.reset(),setTimeout(()=>{o(),s({type:"idle"})},2e3)}catch{s({type:"error",message:"Network error. Please try again."})}}return c?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Get Your Free Quote"}),e.jsx("button",{onClick:()=>{typeof window<"u"&&window.closeQuoteModal?window.closeQuoteModal():o()},className:"text-gray-400 hover:text-gray-600 text-2xl","aria-label":"Close modal",children:"Ã—"})]}),e.jsxs("form",{onSubmit:m,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"name",className:"block text-sm font-semibold text-gray-700 mb-1",children:"Name *"}),e.jsx("input",{id:"name",name:"name",type:"text",required:!0,className:"w-full rounded border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-600",placeholder:"Your full name"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-semibold text-gray-700 mb-1",children:"Email *"}),e.jsx("input",{id:"email",name:"email",type:"email",required:!0,className:"w-full rounded border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-600",placeholder:"your.email@example.com"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"phone",className:"block text-sm font-semibold text-gray-700 mb-1",children:"Phone"}),e.jsx("input",{id:"phone",name:"phone",type:"tel",className:"w-full rounded border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-600",placeholder:"(970) 123-4567"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"message",className:"block text-sm font-semibold text-gray-700 mb-1",children:"Additional Details"}),e.jsx("textarea",{id:"message",name:"message",rows:3,className:"w-full rounded border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-600",placeholder:"Tell us about your vehicle and specific needs..."})]}),e.jsxs("div",{"aria-hidden":"true",className:"hidden",children:[e.jsx("label",{htmlFor:"website",children:"Website"}),e.jsx("input",{id:"website",name:"website",type:"text",tabIndex:-1,autoComplete:"off"})]}),e.jsx("button",{type:"submit",disabled:t.type==="loading",className:"w-full bg-green-600 text-white font-semibold py-3 rounded hover:bg-green-700 transition disabled:opacity-60",children:t.type==="loading"?"Sending Quote Request...":"Get My Free Quote"}),e.jsxs("div",{role:"status","aria-live":"polite",className:"min-h-[1.25rem]",children:[t.type==="success"&&e.jsx("p",{className:"text-green-700 text-sm text-center",children:t.message}),t.type==="error"&&e.jsx("p",{className:"text-red-700 text-sm text-center",children:t.message})]})]})]})})}):null}export{b as default};
